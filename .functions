caskup() {
  rm -rf "$(brew --cache)"
  brew update
  brew cask uninstall --force "$@"
  brew cask install "$@"
}

command_exists () {
  type "$1" &> /dev/null;
}

function md () {
  mkdir -p $1 && cd $1;
}

# Start an HTTP server from a directory, optionally specifying the port
function server() {
  local CHROME="/opt/homebrew-cask/Caskroom/google-chrome-canary/latest/Google\ Chrome\ Canary.app"
  # local CHROME="/opt/homebrew-cask/Caskroom/google-chrome-canary/latest/Google\ Chrome\ Canary.app/Contents/MacOS/Google\ Chrome\ Canary"

  if type hs > /dev/null; then
    if [ $1 ] && [ $1 -gt 1 ] && [ $1 -lt 1023 ]; then
      sudo hs -a localhost -p $1 -o ${CHROME}
    elif [ $1 ] && [ $1 -lt 65536 ]; then
      hs -a localhost -p $1 -o ${CHROME}
    else
      hs -a localhost -p $((RANDOM + 10000)) -o ${CHROME}
    fi
  else
    echo "run \`npm install http-server -g\` or use python -m SimpleHTTPServer"
  fi
}
